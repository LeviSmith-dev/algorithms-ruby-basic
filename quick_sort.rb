class Array
	def quicksort
		return[] if empty?

		#[479, 451, 406, 306, 513, 339, 654, 405, 676, 468, 226, 307, 839, 252, 760, 48, 918, 217, 375, 623, 284, 213, 554, 917, 380, 333, 628, 938, 897, 187, 713, 904, 477, 80, 787, 272, 50, 394, 458, 432, 177, 481, 913, 445, 235, 402, 222, 869, 368, 267]
		pivot = delete_at(rand(size))
		left, right = partition(&pivot.method(:>))

		return *left.quicksort, pivot, *right.quicksort
	end
end


arr= [479, 451, 406, 306, 513, 339, 654, 405, 676, 468, 226, 307, 839, 252, 760, 48, 918, 217, 375, 623, 284, 213, 554, 917, 380, 333, 628, 938, 897, 187, 713, 904, 477, 80, 787, 272, 50, 394, 458, 432, 177, 481, 913, 445, 235, 402, 222, 869, 368, 267]
p arr.quicksort